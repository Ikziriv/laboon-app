import{W as u,X as r,Y as i,Z as h,_ as g,$ as l,a0 as d}from"./vendor-dfacdadd.js";import{s}from"./country-store-b6b886e7.js";let n;function w(a){n||(n=u(a),r(n),f())}function f(){const a=i(n);h(a,async t=>{if(t){const c=await t.getIdToken();await e(c),s.update(p=>{const o=p;return o.user={name:t.displayName,email:t.email,uid:t.uid},o})}else await e(""),s.set({})},t=>console.error(t.message))}async function e(a){const t={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({token:a})};await fetch("/api/token",t)}async function k(){const a=i(n),t=new g;await l(a,t)}async function P(){const a=i(n);await d(a)}export{k as a,w as i,P as s};
